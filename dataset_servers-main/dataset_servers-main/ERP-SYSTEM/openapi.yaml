openapi: 3.0.0
info:
  title: ERP System API
  version: 1.0.0
  description: A comprehensive REST API for an Enterprise Resource Planning (ERP) system
  contact:
    name: API Support
    email: support@erpsystem.com

servers:
  - url: http://localhost:3000
    description: Local development server
  - url: https://api.erpsystem.com
    description: Production server

components:
  schemas:
    Error:
      type: object
      properties:
        message:
          type: string
          description: Error message describing what went wrong

    InventoryItem:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        sku:
          type: string
        category:
          type: string
        description:
          type: string
        price:
          type: number
          format: float
        cost:
          type: number
          format: float
        supplier:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    StockLevel:
      type: object
      properties:
        itemId:
          type: string
          format: uuid
        quantity:
          type: integer
        location:
          type: string
        minimumLevel:
          type: integer
        reorderLevel:
          type: integer
        lastUpdated:
          type: string
          format: date-time

    Vendor:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        contact:
          type: string
        email:
          type: string
          format: email
        phone:
          type: string
        address:
          type: string
        createdAt:
          type: string
          format: date-time

    PurchaseOrder:
      type: object
      properties:
        id:
          type: string
          format: uuid
        vendorId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        items:
          type: array
          items:
            type: object
            properties:
              itemName:
                type: string
              quantity:
                type: integer
              unitPrice:
                type: number
                format: float
        status:
          type: string
          enum: [pending, approved, in-progress, partial, delivered, completed, cancelled]
        total:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        statusHistory:
          type: array
          items:
            type: object
            properties:
              status:
                type: string
              timestamp:
                type: string
                format: date-time
              user:
                type: string

    Customer:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        contact:
          type: string
        email:
          type: string
          format: email
        phone:
          type: string
        address:
          type: string
        createdAt:
          type: string
          format: date-time

    SalesOrder:
      type: object
      properties:
        id:
          type: string
          format: uuid
        customerId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        items:
          type: array
          items:
            type: object
            properties:
              itemName:
                type: string
              quantity:
                type: integer
              unitPrice:
                type: number
                format: float
        status:
          type: string
          enum: [pending, processing, shipped, delivered, completed, cancelled, returned, refunded]
        total:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        statusHistory:
          type: array
          items:
            type: object
            properties:
              status:
                type: string
              timestamp:
                type: string
                format: date-time
              user:
                type: string

    Transaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum: [income, expense]
        amount:
          type: number
          format: float
        date:
          type: string
          format: date
        description:
          type: string
        reference:
          type: string
        account:
          type: string
        createdAt:
          type: string
          format: date-time

    Account:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        type:
          type: string
          enum: [income, expense, asset, liability]
        balance:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time

    Employee:
      type: object
      properties:
        id:
          type: string
          format: uuid
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
          format: email
        position:
          type: string
        department:
          type: string
        hireDate:
          type: string
          format: date
        salary:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time

    Payroll:
      type: object
      properties:
        id:
          type: string
          format: uuid
        period:
          type: string
        processedDate:
          type: string
          format: date-time
        employees:
          type: array
          items:
            type: object
            properties:
              employeeId:
                type: string
                format: uuid
              grossAmount:
                type: number
                format: float
              taxes:
                type: number
                format: float
              netAmount:
                type: number
                format: float
        status:
          type: string
          enum: [processed, paid]
        totalGross:
          type: number
          format: float
        totalTaxes:
          type: number
          format: float
        totalNet:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time

    ProductionOrder:
      type: object
      properties:
        id:
          type: string
          format: uuid
        product:
          type: string
        quantity:
          type: integer
        startDate:
          type: string
          format: date
        dueDate:
          type: string
          format: date
        status:
          type: string
          enum: [scheduled, in-progress, completed, cancelled]
        completedQuantity:
          type: integer
        createdAt:
          type: string
          format: date-time

    MaterialRequest:
      type: object
      properties:
        id:
          type: string
          format: uuid
        productionOrderId:
          type: string
          format: uuid
        date:
          type: string
          format: date
        items:
          type: array
          items:
            type: object
            properties:
              material:
                type: string
              quantity:
                type: integer
        status:
          type: string
          enum: [pending, fulfilled, cancelled]
        createdAt:
          type: string
          format: date-time

    Shipment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        orderId:
          type: string
          format: uuid
          nullable: true
        carrier:
          type: string
        trackingNumber:
          type: string
        shippingDate:
          type: string
          format: date
        estimatedDelivery:
          type: string
          format: date
        status:
          type: string
          enum: [pending, in-transit, delivered, cancelled]
        type:
          type: string
          enum: [order-fulfillment, inventory-transfer]
        source:
          type: string
        destination:
          type: string
        createdAt:
          type: string
          format: date-time

    TrackingEvent:
      type: object
      properties:
        shipmentId:
          type: string
          format: uuid
        events:
          type: array
          items:
            type: object
            properties:
              timestamp:
                type: string
                format: date-time
              location:
                type: string
              status:
                type: string
              description:
                type: string

    SystemHealth:
      type: object
      properties:
        status:
          type: string
          enum: [healthy, degraded]
        services:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              status:
                type: string
                enum: [running, degraded]
              uptime:
                type: string
        metrics:
          type: object
          properties:
            cpu:
              type: string
            memory:
              type: string
            disk:
              type: string
            requests:
              type: object
              properties:
                total:
                  type: integer
                perMinute:
                  type: integer
            responseTime:
              type: object
              properties:
                average:
                  type: string
                p95:
                  type: string
                p99:
                  type: string

    SystemVersion:
      type: object
      properties:
        current:
          type: string
        lastUpdated:
          type: string
          format: date
        details:
          type: array
          items:
            type: object
            properties:
              component:
                type: string
              version:
                type: string
        changelog:
          type: object
          additionalProperties:
            type: string

paths:
  /inventory/items:
    get:
      summary: List all inventory items
      operationId: listInventoryItems
      responses:
        '200':
          description: List of inventory items
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/InventoryItem'
    post:
      summary: Create a new inventory item
      operationId: createInventoryItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InventoryItem'
      responses:
        '201':
          description: Inventory item created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InventoryItem'
        '400':
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /inventory/items/{itemId}:
    parameters:
      - name: itemId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific inventory item
      operationId: getInventoryItem
      responses:
        '200':
          description: Inventory item details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InventoryItem'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    put:
      summary: Update an inventory item
      operationId: updateInventoryItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InventoryItem'
      responses:
        '200':
          description: Inventory item updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InventoryItem'
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
    delete:
      summary: Delete an inventory item
      operationId: deleteInventoryItem
      responses:
        '204':
          description: Item deleted successfully
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /inventory/stock-levels:
    get:
      summary: Get stock levels for all items
      operationId: getStockLevels
      responses:
        '200':
          description: List of stock levels
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/StockLevel'

  /inventory/adjust-stock:
    post:
      summary: Adjust stock quantity for an item
      operationId: adjustStock
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - itemId
                - adjustment
              properties:
                itemId:
                  type: string
                  format: uuid
                adjustment:
                  type: integer
                reason:
                  type: string
      responses:
        '200':
          description: Stock adjusted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  stockLevel:
                    $ref: '#/components/schemas/StockLevel'
                  adjustment:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      itemId:
                        type: string
                        format: uuid
                      previousQuantity:
                        type: integer
                      adjustment:
                        type: integer
                      newQuantity:
                        type: integer
                      reason:
                        type: string
                      timestamp:
                        type: string
                        format: date-time
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /procurement/vendors:
    get:
      summary: List all vendors
      operationId: listVendors
      responses:
        '200':
          description: List of vendors
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Vendor'
    post:
      summary: Create a new vendor
      operationId: createVendor
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Vendor'
      responses:
        '201':
          description: Vendor created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vendor'

  /procurement/vendors/{vendorId}:
    parameters:
      - name: vendorId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific vendor
      operationId: getVendor
      responses:
        '200':
          description: Vendor details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Vendor'
        '404':
          description: Vendor not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /procurement/purchase-orders:
    get:
      summary: List all purchase orders
      operationId: listPurchaseOrders
      responses:
        '200':
          description: List of purchase orders
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PurchaseOrder'
    post:
      summary: Create a new purchase order
      operationId: createPurchaseOrder
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - vendorId
                - items
              properties:
                vendorId:
                  type: string
                  format: uuid
                items:
                  type: array
                  items:
                    type: object
                    required:
                      - itemName
                      - quantity
                      - unitPrice
                    properties:
                      itemName:
                        type: string
                      quantity:
                        type: integer
                      unitPrice:
                        type: number
                        format: float
      responses:
        '201':
          description: Purchase order created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseOrder'
        '404':
          description: Vendor not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /procurement/purchase-orders/{orderId}:
    parameters:
      - name: orderId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific purchase order
      operationId: getPurchaseOrder
      responses:
        '200':
          description: Purchase order details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseOrder'
        '404':
          description: Purchase order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /procurement/purchase-orders/{orderId}/status:
    parameters:
      - name: orderId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    put:
      summary: Update the status of a purchase order
      operationId: updatePurchaseOrderStatus
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [approved, in-progress, partial, delivered, completed, cancelled]
                user:
                  type: string
      responses:
        '200':
          description: Purchase order status updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PurchaseOrder'
        '400':
          description: Invalid status transition
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  validTransitions:
                    type: array
                    items:
                      type: string
        '404':
          description: Purchase order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /sales/customers:
    get:
      summary: List all customers
      operationId: listCustomers
      responses:
        '200':
          description: List of customers
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Customer'
    post:
      summary: Create a new customer
      operationId: createCustomer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Customer'
      responses:
        '201':
          description: Customer created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Customer'

  /sales/customers/{customerId}:
    parameters:
      - name: customerId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific customer
      operationId: getCustomer
      responses:
        '200':
          description: Customer details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Customer'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /sales/orders:
    get:
      summary: List all sales orders
      operationId: listSalesOrders
      parameters:
        - name: customerId
          in: query
          schema:
            type: string
            format: uuid
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, processing, shipped, delivered, completed, cancelled, returned, refunded]
      responses:
        '200':
          description: List of sales orders
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/SalesOrder'
    post:
      summary: Create a new sales order
      operationId: createSalesOrder
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - customerId
                - items
              properties:
                customerId:
                  type: string
                  format: uuid
                items:
                  type: array
                  items:
                    type: object
                    required:
                      - itemName
                      - quantity
                      - unitPrice
                    properties:
                      itemName:
                        type: string
                      quantity:
                        type: integer
                      unitPrice:
                        type: number
                        format: float
      responses:
        '201':
          description: Sales order created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesOrder'
        '404':
          description: Customer not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /sales/orders/{orderId}:
    parameters:
      - name: orderId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific sales order
      operationId: getSalesOrder
      responses:
        '200':
          description: Sales order details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesOrder'
        '404':
          description: Sales order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /sales/orders/{orderId}/status:
    parameters:
      - name: orderId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    put:
      summary: Update the status of a sales order
      operationId: updateSalesOrderStatus
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [processing, shipped, delivered, completed, cancelled, returned, refunded]
                user:
                  type: string
      responses:
        '200':
          description: Sales order status updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SalesOrder'
        '400':
          description: Invalid status transition
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                  validTransitions:
                    type: array
                    items:
                      type: string
        '404':
          description: Sales order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /finance/transactions:
    get:
      summary: List all financial transactions
      operationId: listTransactions
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [income, expense]
        - name: account
          in: query
          schema:
            type: string
        - name: startDate
          in: query
          schema:
            type: string
            format: date
        - name: endDate
          in: query
          schema:
            type: string
            format: date
      responses:
        '200':
          description: List of transactions
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Transaction'
    post:
      summary: Create a new financial transaction
      operationId: createTransaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - type
                - amount
                - account
              properties:
                type:
                  type: string
                  enum: [income, expense]
                amount:
                  type: number
                  format: float
                account:
                  type: string
                description:
                  type: string
                reference:
                  type: string
      responses:
        '201':
          description: Transaction created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  transaction:
                    $ref: '#/components/schemas/Transaction'
                  account:
                    $ref: '#/components/schemas/Account'
        '404':
          description: Account not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /finance/transactions/{transactionId}:
    parameters:
      - name: transactionId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific transaction
      operationId: getTransaction
      responses:
        '200':
          description: Transaction details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Transaction'
        '404':
          description: Transaction not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /finance/accounts:
    get:
      summary: List all financial accounts
      operationId: listAccounts
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [income, expense, asset, liability]
      responses:
        '200':
          description: List of accounts
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Account'
    post:
      summary: Create a new financial account
      operationId: createAccount
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - name
                - type
              properties:
                name:
                  type: string
                type:
                  type: string
                  enum: [income, expense, asset, liability]
                initialBalance:
                  type: number
                  format: float
      responses:
        '201':
          description: Account created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
        '400':
          description: Account with this name already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /hr/employees:
    get:
      summary: List all employees
      operationId: listEmployees
      parameters:
        - name: department
          in: query
          schema:
            type: string
      responses:
        '200':
          description: List of employees
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Employee'
    post:
      summary: Create a new employee
      operationId: createEmployee
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - firstName
                - lastName
                - position
                - department
                - salary
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                  format: email
                position:
                  type: string
                department:
                  type: string
                salary:
                  type: number
                  format: float
      responses:
        '201':
          description: Employee created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee'

  /hr/employees/{employeeId}:
    parameters:
      - name: employeeId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific employee
      operationId: getEmployee
      responses:
        '200':
          description: Employee details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Employee'
        '404':
          description: Employee not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /hr/payroll:
    get:
      summary: Get payroll information
      operationId: getPayroll
      parameters:
        - name: period
          in: query
          schema:
            type: string
        - name: status
          in: query
          schema:
            type: string
            enum: [processed, paid]
      responses:
        '200':
          description: List of payroll records
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Payroll'

  /hr/payroll/run:
    post:
      summary: Run a new payroll process
      operationId: runPayroll
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - period
              properties:
                period:
                  type: string
                taxRate:
                  type: number
                  format: float
      responses:
        '201':
          description: Payroll processed successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payroll'
        '400':
          description: Payroll for this period already exists
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /manufacturing/orders:
    get:
      summary: List all production orders
      operationId: listProductionOrders
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [scheduled, in-progress, completed, cancelled]
        - name: product
          in: query
          schema:
            type: string
      responses:
        '200':
          description: List of production orders
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ProductionOrder'
    post:
      summary: Create a new production order
      operationId: createProductionOrder
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - product
                - quantity
                - dueDate
              properties:
                product:
                  type: string
                quantity:
                  type: integer
                startDate:
                  type: string
                  format: date
                dueDate:
                  type: string
                  format: date
      responses:
        '201':
          description: Production order created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProductionOrder'

  /manufacturing/orders/{productionOrderId}:
    parameters:
      - name: productionOrderId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific production order
      operationId: getProductionOrder
      responses:
        '200':
          description: Production order details
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/ProductionOrder'
                  - type: object
                    properties:
                      materialRequests:
                        type: array
                        items:
                          $ref: '#/components/schemas/MaterialRequest'
        '404':
          description: Production order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /manufacturing/material-requests:
    post:
      summary: Create a material request for production
      operationId: createMaterialRequest
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - productionOrderId
                - items
              properties:
                productionOrderId:
                  type: string
                  format: uuid
                items:
                  type: array
                  items:
                    type: object
                    required:
                      - material
                      - quantity
                    properties:
                      material:
                        type: string
                      quantity:
                        type: integer
      responses:
        '201':
          description: Material request created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/MaterialRequest'
        '404':
          description: Production order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /manufacturing/material-requests/{requestId}:
    parameters:
      - name: requestId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific material request
      operationId: getMaterialRequest
      responses:
        '200':
          description: Material request details
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/MaterialRequest'
                  - type: object
                    properties:
                      productionOrder:
                        $ref: '#/components/schemas/ProductionOrder'
        '404':
          description: Material request not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /logistics/shipments:
    get:
      summary: List all shipments
      operationId: listShipments
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [pending, in-transit, delivered, cancelled]
        - name: carrier
          in: query
          schema:
            type: string
        - name: orderId
          in: query
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: List of shipments
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Shipment'
    post:
      summary: Create a new shipment
      operationId: createShipment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - carrier
              properties:
                orderId:
                  type: string
                  format: uuid
                carrier:
                  type: string
                type:
                  type: string
                  enum: [order-fulfillment, inventory-transfer]
                source:
                  type: string
                destination:
                  type: string
                trackingNumber:
                  type: string
                shippingDate:
                  type: string
                  format: date
                estimatedDelivery:
                  type: string
                  format: date
      responses:
        '201':
          description: Shipment created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  shipment:
                    $ref: '#/components/schemas/Shipment'
                  tracking:
                    $ref: '#/components/schemas/TrackingEvent'
        '400':
          description: Invalid input
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '404':
          description: Order not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /logistics/shipments/{shipmentId}:
    parameters:
      - name: shipmentId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get a specific shipment
      operationId: getShipment
      responses:
        '200':
          description: Shipment details
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: '#/components/schemas/Shipment'
                  - type: object
                    properties:
                      order:
                        $ref: '#/components/schemas/SalesOrder'
        '404':
          description: Shipment not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /logistics/tracking/{shipmentId}:
    parameters:
      - name: shipmentId
        in: path
        required: true
        schema:
          type: string
          format: uuid
    get:
      summary: Get tracking information for a shipment
      operationId: getShipmentTracking
      responses:
        '200':
          description: Tracking information
          content:
            application/json:
              schema:
                type: object
                properties:
                  shipment:
                    $ref: '#/components/schemas/Shipment'
                  events:
                    type: array
                    items:
                      type: object
                      properties:
                        timestamp:
                          type: string
                          format: date-time
                        location:
                          type: string
                        status:
                          type: string
                        description:
                          type: string
        '404':
          description: Shipment or tracking information not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'

  /system/health:
    get:
      summary: Get system health status
      operationId: getSystemHealth
      responses:
        '200':
          description: System health information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemHealth'

  /system/version:
    get:
      summary: Get system version information
      operationId: getSystemVersion
      responses:
        '200':
          description: System version information
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SystemVersion' 